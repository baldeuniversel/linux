#!/usr/bin/bash

:   ' 
/**
* @overview This program allows to execute some actions (see the precondition below)
* that can be very useful (First of all, this program is written for the
* Veâ€Quantic members) .
*
*
* @requires The only options supported are [ â€â€extract, â€â€input, â€i, â€â€from, â€f, â€â€to, â€t,
*                                            â€â€output, â€o, â€â€doc, â€â€help ]
* && the command pdfâ€tool has to have at least one option
*                     Example : pdfâ€tool â€â€extract â€â€input <pdfâ€file.pdf> â€â€from 1 â€â€to 2
*                                                                  â€â€output <newâ€pdf.pdf>
* && the given parameter after the [ { --from || -f } , { --to || -t } ] options has to be 
*                                       a positive integer (i > 0 : i in natural integers)
* && the given parameter after the [ --input ] option has to be pdf files
*
*
* OPTIONS
*       â€â€extract     type(string) // This option allows to initialize an extract action
*                           Ex : pdfâ€tool â€â€extract â€â€input <pdfâ€file.pdf> â€â€from 1 â€â€to 2
*                                                                   â€â€output <newâ€pdf.pdf>
*
*       â€â€input       type(string) // This option allows to pass the target pdf files .
*
*       â€â€from        type(string) // This option allows to indicate from which page number of the
*                           pdf file an action will affect (the given parameter after the `--from` 
*                           option has to be a positive integer) .
*
*       â€â€to          type(String> // This option marks the stopping page number for a given action
*                           on a pdf file (the given parameter after the `--to` option has to be a 
*                           positive integer) . The [ â€â€from, â€â€to ] options go together .
*
*       â€â€output      type(string) // This option allows to give a name for the output pdf file
*
*       â€â€doc         type(string) // To see the documentation of the pdfâ€tool program
*                           Ex : pdfâ€tool â€â€doc
*
*       â€â€help        type(sting) // To get help
*                           Ex : pdfâ€tool â€â€help
*
*
* @ensure Successfully execution if the precondition is satisfied. That is to say, with
* the above options and the appropriated sequences linked to these options .
*
*
* @note This program depends of some programs, these programs are required in the global
* package of pdfâ€tool .
*
* AUTHOR
*       Author    : BaldÃ© Amadou <baldeuniversel@protonmail.com>
*
* CONTRIBUTOR
*            Contributor    : Diallo Ismaila <diallois@protonmail.com>
*/
    '

##### Action linked to the command <<am-okay>> .
#####
#####

set -uo pipefail # To exit the script if there is an error



# Declaration variables
listOfParams=("--extract" "--input" "-i" "--from" "-f" \
    "--output" "-o" "--doc" "--help")

listOfParamsAction=("--extract" "--doc" "--help")

counterOption=0



# Return an error when the number of parameters is lower than one 
if [[ $# -lt 1 ]]
then
    echo "~"
    echo -e "There is at least one parameter \U001F914"

    exit 1
fi

# Check the inputs parameters
for optionUP in ${listOfParamsAction[@]}
do
    if [[ $1 != $optionUP ]]
    then
        counterOption=$(( counterOption + 1 ))
    fi

    #
    if [[ $counterOption -eq 3  ]]
    then
        echo "~"
        echo -e "Unknown `tput setaf 3; tput bold`$1` tput sgr0 ` option \U001F9D0 ."

        exit 1
    fi
done





### Declaration variables -> start tag[d0]

tmpWorkingDir="/tmp/.$USER/pdf-tool"

### Declaration variables -> end tag[d0]





:   '
/**
* @overview The function `isPDFFile` allows to know if a given file if a pdf file or not
*
*
* @param {string} $1 // The pdf file
*
*
* @return {string} // A `true` string value will be returned if the file is a pdf, otherwise
*                     a `false` string value that will be returned
*/
    '
function isPDFFile
{
    # Declaration variables
    local getFile="$1"



    # Return `true` if the file is a `pdf`, otherwise return `false`
    if [[ ` pdfinfo "$getFile" ` ]]
    then
        #
        echo "true"
    else
        #
        echo "false"
    fi
}





:   '
/**
* @overview The function `getVersionPDFFile` allows to get the version of a pdf file
*
*
* @param {string} $1 // The pdf file
*
*
* @return {string} // A version of the pdf file will be returned
*/
    '
function getVersionPDFFile
{
    # Declaration variables
    local getFile=$1
    local getVersion=""



    # The version of the pdf file will be returned if the file exists
    if [[ -e "$getFile" ]]
    then
        #
        getVersion=` pdfinfo "$getFile" | grep -w -- "^PDF version" | awk -F ':' '{print $2}' | awk '{$1=$1}; 1' `

        echo "$getVersion"
    fi
}





### Action `extract` -> start tag[e0]

if [[ "$1" == "--extract" ]]
then
    
    # Declaration variables
    flagIsPDF=""
    getVersionPDF=""

    
    
    # Save the `IFS` environment 
    saveIFS=$IFS

    #
    #
    #
    for input in "$@"
    do

    done

fi

### Action `extract` -> end tag[e0]




### Creation some necessary directories -> start tag[c0] 

#
if [[ ! ( -e "$tmpWorkingDir" ) ]]
then
    #
    mkdir -p "$tmpWorkingDir" 2> /dev/null

    if [[ $? -ne 0 ]]
    then
        echo "~"
        echo -e "Something is wrong, make sure your are the right to write in [/tmp] ğŸ§"

        exit 0
    fi
fi

### Creation some necessary directories -> end tag[c0] 
